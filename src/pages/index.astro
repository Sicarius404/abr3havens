---
import { Image } from "astro:assets";
import mainBuilding from "../images/main-building.jpg";
import "../styles/global.css";
import Header from "../components/Header.astro";
import abr3havensLogo from "../images/abr3-logo.jpg";

// Import Rental1 images
import cabanas1 from "../images/Rental1/Cabanas-1.jpg";
import cabanas2 from "../images/Rental1/Cabanas-2.jpg";
import cabanas3 from "../images/Rental1/Cabanas-3.jpg";
import cabanas4 from "../images/Rental1/Cabanas-4.jpg";
import cabanas5 from "../images/Rental1/Cabanas-5.jpg";
import cabanas6 from "../images/Rental1/Cabanas-6.jpg";
import cabanas7 from "../images/Rental1/Cabanas-7.jpg";
import cabanas8 from "../images/Rental1/Cabanas-8.jpg";
import cabanas9 from "../images/Rental1/Cabanas-9.jpg";
import cabanas10 from "../images/Rental1/Cabanas-10.jpg";
import cabanas11 from "../images/Rental1/Cabanas-11.jpg";

const rentalImages = [
  cabanas1,
  cabanas2,
  cabanas3,
  cabanas4,
  cabanas5,
  cabanas6,
  cabanas7,
  cabanas8,
  cabanas9,
  cabanas10,
  cabanas11,
];
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Astro</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="bg-gray-900 text-white">
    <Header />
    <section class="relative flex h-[60vh] w-full items-center justify-center">
      <div class="absolute inset-0 bg-black/50" aria-hidden="true"></div>
      <Image
        src={mainBuilding}
        alt="Main building of Abr3havens, a modern architectural structure."
        class="absolute inset-0 -z-10 h-full w-full object-cover"
        widths={[480, 768, 1024, 1920]}
        sizes="(max-width: 768px) 100vw, 50vw"
      />
      <div
        class="absolute top-1/2 left-1/2 w-11/12 max-w-6xl -translate-x-1/2 -translate-y-1/2"
      >
        <h1
          class="mb-4 text-center text-2xl font-bold text-white sm:text-4xl md:mb-8 lg:text-6xl"
          style="font-family: 'Poppins', sans-serif;"
        >
          We don’t just invest in property, we restore possibility!
        </h1>
        <div class="border-2 border-white/75 p-2 md:border-4 md:p-8 lg:p-12">
          <div
            class="flex flex-col items-center justify-center gap-2 text-center md:flex-row md:gap-6 lg:gap-12"
          >
            <div class="border border-white/75 p-1 md:p-4 lg:p-8">
              <h3 class="text-xl font-bold md:text-4xl">3</h3>
              <p class="text-xs tracking-wider uppercase md:text-lg">
                Properties
              </p>
            </div>

            <div class="h-4 border-l-2 border-cyan-400 md:hidden"></div>
            <div
              class="hidden w-12 border-t-2 border-cyan-400 md:block lg:w-24 lg:border-t-4"
            >
            </div>

            <div class="border border-white/75 p-1 md:p-4 lg:p-8">
              <h3 class="text-xl font-bold md:text-4xl">12</h3>
              <p class="text-xs tracking-wider uppercase md:text-lg">Spaces</p>
            </div>

            <div class="h-4 border-l-2 border-cyan-400 md:hidden"></div>
            <div
              class="hidden w-12 border-t-2 border-cyan-400 md:block lg:w-24 lg:border-t-4"
            >
            </div>

            <div class="border border-white/75 p-1 md:p-4 lg:p-8">
              <h3 class="text-xl font-bold md:text-4xl">...</h3>
              <p class="text-xs tracking-wider uppercase md:text-lg">
                Possibilities
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>
    <div class="h-3 bg-gray-800"></div>
    <main class="bg-white px-4 py-20 text-gray-800 sm:px-6 lg:px-8">
      <div
        class="container mx-auto grid grid-cols-1 items-center gap-16 md:grid-cols-2"
      >
        <div class="text-left">
          <h2 class="mb-4 text-4xl font-extrabold tracking-tight sm:text-5xl">
            More than a rental
          </h2>
          <p class="mb-8 text-4xl font-semibold text-cyan-500">
            The ABR<sup>3</sup> difference
          </p>
          <div class="space-y-6">
            <div>
              <h3 class="mb-2 text-xl font-bold">Vacation rewards</h3>
              <p class="text-lg text-gray-600">
                → Exclusive tenant discounts at our vacation property.
              </p>
            </div>
            <div>
              <h3 class="mb-2 text-xl font-bold">Customer centred</h3>
              <p class="text-lg text-gray-600">
                → Your needs guide everything we do.
              </p>
            </div>
            <div>
              <h3 class="mb-2 text-xl font-bold">Connection benefits</h3>
              <p class="text-lg text-gray-600">
                → “The more connected you are, the more you gain.”
              </p>
            </div>
            <div>
              <h3 class="mb-2 text-xl font-bold">Always maintained</h3>
              <p class="text-lg text-gray-600">
                → “Clean, safe, and well-cared-for spaces, always.”
              </p>
            </div>
          </div>
          <a
            href="/about"
            class="mt-12 inline-block rounded bg-gray-900 px-6 py-3 font-bold text-white transition-colors hover:bg-gray-700"
            >About Us</a
          >
        </div>
        <div class="flex justify-center md:justify-end">
          <Image
            src={abr3havensLogo}
            alt="Abr3havens Logo"
            class="w-full max-w-xs md:max-w-md"
          />
        </div>
      </div>
    </main>

    <!-- Our Latest Investments Section -->
    <section class="bg-gray-50 px-4 py-20 sm:px-6 lg:px-8">
      <div class="container mx-auto">
        <h2
          class="mb-16 text-center text-4xl font-extrabold tracking-tight text-gray-900"
        >
          Our Latest Investments
        </h2>

        <div class="grid grid-cols-1 items-center gap-16 lg:grid-cols-2">
          <!-- Image Carousel -->
          <div class="relative">
            <!-- Main Image Display -->
            <div
              class="carousel-container mb-4 overflow-hidden rounded-lg shadow-lg"
            >
              <div
                class="carousel-track flex transition-transform duration-500 ease-in-out"
                id="carousel-track"
              >
                {
                  rentalImages.map((image, index) => (
                    <div class="carousel-slide min-w-full">
                      <Image
                        src={image}
                        alt={`Cabanas rental property view ${index + 1}`}
                        class="h-96 w-full cursor-pointer object-cover"
                        widths={[480, 768, 1024]}
                        sizes="(max-width: 768px) 100vw, 50vw"
                        onclick="openLightbox()"
                      />
                    </div>
                  ))
                }
              </div>
            </div>

            <!-- Carousel Controls -->
            <button
              class="absolute top-1/2 left-4 z-10 -translate-y-1/2 rounded-full bg-black/50 p-2 text-white transition-colors hover:bg-black/70"
              id="prevBtn"
              aria-label="Previous image"
            >
              <svg
                class="h-6 w-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 19l-7-7 7-7"></path>
              </svg>
            </button>

            <button
              class="absolute top-1/2 right-4 z-10 -translate-y-1/2 rounded-full bg-black/50 p-2 text-white transition-colors hover:bg-black/70"
              id="nextBtn"
              aria-label="Next image"
            >
              <svg
                class="h-6 w-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5l7 7-7 7"></path>
              </svg>
            </button>

            <!-- Thumbnail Images -->
            <div
              class="mt-4 flex justify-center space-x-2 overflow-x-auto pb-2"
            >
              {
                rentalImages.map((image, index) => (
                  <button
                    class="thumbnail-btn h-16 w-16 flex-shrink-0 overflow-hidden rounded-lg border-2 border-transparent transition-colors hover:border-cyan-500"
                    data-index={index}
                  >
                    <Image
                      src={image}
                      alt={`Thumbnail ${index + 1}`}
                      class="h-full w-full object-cover"
                      widths={[64]}
                      sizes="64px"
                    />
                  </button>
                ))
              }
            </div>
          </div>

          <!-- Text Content -->
          <div class="flex items-stretch text-left">
            <div
              class="flex h-full min-h-[500px] flex-col justify-between rounded-lg border-l-4 border-cyan-500 bg-white p-8 shadow-lg"
            >
              <div>
                <h3 class="mb-8 text-3xl font-bold text-gray-900">
                  Our First Vacation Rental
                </h3>
                <div class="prose prose-lg leading-relaxed text-gray-700">
                  <p class="mb-6 text-2xl">
                    We're excited to introduce our very first vacation rental —
                    the start of many more to come.
                  </p>
                  <p class="mb-8 text-2xl">
                    Right on the beach in Amanzimtoti, this home has been
                    thoughtfully transformed into a welcoming space for
                    families, friends, and travellers to relax, connect, and
                    make lasting memories.
                  </p>
                </div>
              </div>

              <!-- Bottom section with location and buttons -->
              <div class="mt-auto">
                <div class="border-t border-gray-200 pt-6">
                  <div class="mb-4 flex items-center justify-between">
                    <p
                      class="text-sm font-semibold tracking-wider text-cyan-600 uppercase"
                    >
                      Location: Amanzimtoti Beachfront
                    </p>
                  </div>

                  <!-- Action Buttons -->
                  <div class="flex space-x-4">
                    <a
                      href="https://book.nightsbridge.com/37984"
                      target="_blank"
                      rel="noopener noreferrer"
                      class="inline-flex flex-1 items-center justify-center rounded-lg bg-cyan-600 px-6 py-3 text-sm font-semibold text-white shadow-md transition-colors hover:bg-cyan-700 hover:shadow-lg"
                    >
                      <svg
                        class="mr-2 h-4 w-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                        ></path>
                      </svg>
                      Book Now
                    </a>
                    <button
                      class="inline-flex flex-1 items-center justify-center rounded-lg bg-gray-100 px-6 py-3 text-sm font-semibold text-gray-700 shadow-md transition-colors hover:bg-gray-200 hover:shadow-lg"
                      onclick="alert('More information coming soon! For now, please use the booking link or contact us directly.')"
                    >
                      <svg
                        class="mr-2 h-4 w-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                        ></path>
                      </svg>
                      More Info
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Our Other Investments Section -->
    <section class="bg-white px-4 py-20 sm:px-6 lg:px-8">
      <div class="container mx-auto">
        <h2
          class="mb-16 text-center text-4xl font-extrabold tracking-tight text-gray-900"
        >
          Our Other Investments
        </h2>

        <!-- Property Grid -->
        <div class="grid grid-cols-1 gap-16 lg:grid-cols-2">
          <!-- Numba 1 Property -->
          <div class="rounded-2xl bg-gray-50 p-8 shadow-lg">
            <div class="mb-6">
              <!-- Placeholder image for Numba 1 -->
              <div class="relative">
                <div
                  class="carousel-container-numba mb-4 overflow-hidden rounded-lg shadow-lg"
                >
                  <div
                    class="carousel-track-numba flex transition-transform duration-500 ease-in-out"
                    id="carousel-track-numba"
                  >
                    <!-- Using some existing images as placeholders -->
                    <div class="carousel-slide-numba min-w-full">
                      <img
                        src={cabanas1.src}
                        alt="Numba 1 property view 1"
                        class="h-64 w-full cursor-pointer object-cover"
                        onclick="openLightboxNumba(0)"
                      />
                    </div>
                    <div class="carousel-slide-numba min-w-full">
                      <img
                        src={cabanas2.src}
                        alt="Numba 1 property view 2"
                        class="h-64 w-full cursor-pointer object-cover"
                        onclick="openLightboxNumba(1)"
                      />
                    </div>
                    <div class="carousel-slide-numba min-w-full">
                      <img
                        src={cabanas3.src}
                        alt="Numba 1 property view 3"
                        class="h-64 w-full cursor-pointer object-cover"
                        onclick="openLightboxNumba(2)"
                      />
                    </div>
                  </div>
                </div>

                <!-- Carousel Controls for Numba 1 -->
                <button
                  class="absolute top-1/2 left-4 z-10 -translate-y-1/2 rounded-full bg-black/50 p-2 text-white transition-colors hover:bg-black/70"
                  id="prevBtnNumba"
                  aria-label="Previous image"
                >
                  <svg
                    class="h-6 w-6"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M15 19l-7-7 7-7"></path>
                  </svg>
                </button>

                <button
                  class="absolute top-1/2 right-4 z-10 -translate-y-1/2 rounded-full bg-black/50 p-2 text-white transition-colors hover:bg-black/70"
                  id="nextBtnNumba"
                  aria-label="Next image"
                >
                  <svg
                    class="h-6 w-6"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 5l7 7-7 7"></path>
                  </svg>
                </button>

                <!-- Thumbnail Images for Numba 1 -->
                <div
                  class="mt-4 flex justify-center space-x-2 overflow-x-auto pb-2"
                >
                  <button
                    class="thumbnail-btn-numba h-16 w-16 flex-shrink-0 overflow-hidden rounded-lg border-2 border-cyan-500 transition-colors"
                    data-index="0"
                  >
                    <img
                      src={cabanas1.src}
                      alt="Thumbnail 1"
                      class="h-full w-full object-cover"
                    />
                  </button>
                  <button
                    class="thumbnail-btn-numba h-16 w-16 flex-shrink-0 overflow-hidden rounded-lg border-2 border-transparent transition-colors hover:border-cyan-500"
                    data-index="1"
                  >
                    <img
                      src={cabanas2.src}
                      alt="Thumbnail 2"
                      class="h-full w-full object-cover"
                    />
                  </button>
                  <button
                    class="thumbnail-btn-numba h-16 w-16 flex-shrink-0 overflow-hidden rounded-lg border-2 border-transparent transition-colors hover:border-cyan-500"
                    data-index="2"
                  >
                    <img
                      src={cabanas3.src}
                      alt="Thumbnail 3"
                      class="h-full w-full object-cover"
                    />
                  </button>
                </div>
              </div>
            </div>

            <div class="text-center">
              <h3 class="mb-4 text-2xl font-bold text-gray-900">Numba 1</h3>
              <p class="mb-4 text-lg text-gray-600">
                Our very first property - where it all began
              </p>
              <p class="mb-6 text-gray-700">
                This special property holds a unique place in our hearts as our
                very first investment. It represents the foundation of our
                journey and our commitment to creating exceptional spaces.
              </p>
              <button
                class="inline-flex items-center rounded-lg bg-gray-600 px-6 py-3 text-sm font-semibold text-white shadow-md transition-colors hover:bg-gray-700 hover:shadow-lg"
                onclick="alert('More details about Numba 1 coming soon!')"
              >
                <svg
                  class="mr-2 h-4 w-4"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                  ></path>
                </svg>
                Learn More
              </button>
            </div>
          </div>

          <!-- Tamarisk Property -->
          <div class="rounded-2xl bg-gray-50 p-8 shadow-lg">
            <div class="mb-6">
              <!-- Placeholder image for Tamarisk -->
              <div class="relative">
                <div
                  class="carousel-container-tamarisk mb-4 overflow-hidden rounded-lg shadow-lg"
                >
                  <div
                    class="carousel-track-tamarisk flex transition-transform duration-500 ease-in-out"
                    id="carousel-track-tamarisk"
                  >
                    <!-- Using some existing images as placeholders -->
                    <div class="carousel-slide-tamarisk min-w-full">
                      <img
                        src={cabanas4.src}
                        alt="Tamarisk property view 1"
                        class="h-64 w-full cursor-pointer object-cover"
                        onclick="openLightboxTamarisk(0)"
                      />
                    </div>
                    <div class="carousel-slide-tamarisk min-w-full">
                      <img
                        src={cabanas5.src}
                        alt="Tamarisk property view 2"
                        class="h-64 w-full cursor-pointer object-cover"
                        onclick="openLightboxTamarisk(1)"
                      />
                    </div>
                    <div class="carousel-slide-tamarisk min-w-full">
                      <img
                        src={cabanas6.src}
                        alt="Tamarisk property view 3"
                        class="h-64 w-full cursor-pointer object-cover"
                        onclick="openLightboxTamarisk(2)"
                      />
                    </div>
                  </div>
                </div>

                <!-- Carousel Controls for Tamarisk -->
                <button
                  class="absolute top-1/2 left-4 z-10 -translate-y-1/2 rounded-full bg-black/50 p-2 text-white transition-colors hover:bg-black/70"
                  id="prevBtnTamarisk"
                  aria-label="Previous image"
                >
                  <svg
                    class="h-6 w-6"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M15 19l-7-7 7-7"></path>
                  </svg>
                </button>

                <button
                  class="absolute top-1/2 right-4 z-10 -translate-y-1/2 rounded-full bg-black/50 p-2 text-white transition-colors hover:bg-black/70"
                  id="nextBtnTamarisk"
                  aria-label="Next image"
                >
                  <svg
                    class="h-6 w-6"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 5l7 7-7 7"></path>
                  </svg>
                </button>

                <!-- Thumbnail Images for Tamarisk -->
                <div
                  class="mt-4 flex justify-center space-x-2 overflow-x-auto pb-2"
                >
                  <button
                    class="thumbnail-btn-tamarisk h-16 w-16 flex-shrink-0 overflow-hidden rounded-lg border-2 border-cyan-500 transition-colors"
                    data-index="0"
                  >
                    <img
                      src={cabanas4.src}
                      alt="Thumbnail 1"
                      class="h-full w-full object-cover"
                    />
                  </button>
                  <button
                    class="thumbnail-btn-tamarisk h-16 w-16 flex-shrink-0 overflow-hidden rounded-lg border-2 border-transparent transition-colors hover:border-cyan-500"
                    data-index="1"
                  >
                    <img
                      src={cabanas5.src}
                      alt="Thumbnail 2"
                      class="h-full w-full object-cover"
                    />
                  </button>
                  <button
                    class="thumbnail-btn-tamarisk h-16 w-16 flex-shrink-0 overflow-hidden rounded-lg border-2 border-transparent transition-colors hover:border-cyan-500"
                    data-index="2"
                  >
                    <img
                      src={cabanas6.src}
                      alt="Thumbnail 3"
                      class="h-full w-full object-cover"
                    />
                  </button>
                </div>
              </div>
            </div>

            <div class="text-center">
              <h3 class="mb-4 text-2xl font-bold text-gray-900">Tamarisk</h3>
              <p class="mb-4 text-lg text-gray-600">
                A distinctive investment opportunity
              </p>
              <p class="mb-6 text-gray-700">
                Tamarisk represents our continued growth and commitment to
                finding unique properties that offer both excellent investment
                potential and beautiful living spaces.
              </p>
              <button
                class="inline-flex items-center rounded-lg bg-gray-600 px-6 py-3 text-sm font-semibold text-white shadow-md transition-colors hover:bg-gray-700 hover:shadow-lg"
                onclick="alert('More details about Tamarisk coming soon!')"
              >
                <svg
                  class="mr-2 h-4 w-4"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                  ></path>
                </svg>
                Learn More
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Lightbox Modal -->
    <div
      id="lightbox"
      class="lightbox-animate fixed inset-0 z-[9999] hidden items-center justify-center p-4"
    >
      <!-- Blurred backdrop -->
      <div id="lightbox-backdrop" class="lightbox-backdrop absolute inset-0">
      </div>

      <!-- Modal content -->
      <div
        class="relative z-10 max-h-full max-w-5xl scale-95 transform overflow-hidden rounded-2xl bg-white opacity-0 shadow-2xl transition-all duration-300"
        id="lightbox-content"
      >
        <!-- Image container -->
        <div class="relative">
          <img
            id="lightbox-image"
            src=""
            alt=""
            class="max-h-[80vh] max-w-full object-contain"
          />

          <!-- Close button -->
          <button
            id="closeLightbox"
            class="bg-opacity-90 hover:bg-opacity-100 absolute top-4 right-4 rounded-full bg-white p-2 text-gray-600 shadow-lg transition-all hover:text-gray-800"
          >
            <svg
              class="h-6 w-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>

          <!-- Navigation arrows in lightbox -->
          <button
            id="lightboxPrevBtn"
            class="bg-opacity-90 hover:bg-opacity-100 absolute top-1/2 left-4 -translate-y-1/2 rounded-full bg-white p-3 text-gray-600 shadow-lg transition-all hover:text-gray-800"
          >
            <svg
              class="h-6 w-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M15 19l-7-7 7-7"></path>
            </svg>
          </button>

          <button
            id="lightboxNextBtn"
            class="bg-opacity-90 hover:bg-opacity-100 absolute top-1/2 right-4 -translate-y-1/2 rounded-full bg-white p-3 text-gray-600 shadow-lg transition-all hover:text-gray-800"
          >
            <svg
              class="h-6 w-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"></path>
            </svg>
          </button>
        </div>

        <!-- Image info bar -->
        <div class="border-t bg-gray-50 px-6 py-4">
          <div class="flex items-center justify-between">
            <div>
              <h4
                id="lightbox-title"
                class="text-lg font-semibold text-gray-900"
              >
                Cabanas Rental Property
              </h4>
              <p id="lightbox-description" class="text-sm text-gray-600">
                Beachfront vacation rental in Amanzimtoti
              </p>
            </div>
            <div class="flex items-center space-x-2">
              <span id="lightbox-counter" class="text-sm text-gray-500"
                >1 of 11</span
              >
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      let currentSlide = 0;
      const totalSlides = document.querySelectorAll(".carousel-slide").length;
      const track = document.getElementById("carousel-track");
      const thumbnails = document.querySelectorAll(".thumbnail-btn");
      const lightbox = document.getElementById("lightbox");
      const lightboxImage = document.getElementById("lightbox-image");
      const prevBtn = document.getElementById("prevBtn");
      const nextBtn = document.getElementById("nextBtn");
      const closeLightboxBtn = document.getElementById("closeLightbox");
      const lightboxPrevBtn = document.getElementById("lightboxPrevBtn");
      const lightboxNextBtn = document.getElementById("lightboxNextBtn");
      const lightboxCounter = document.getElementById("lightbox-counter");
      const lightboxBackdrop = document.getElementById("lightbox-backdrop");
      const lightboxContent = document.getElementById("lightbox-content");

      // Store image sources for lightbox
      const imageSources = [];
      document.querySelectorAll(".carousel-slide img").forEach((img) => {
        const imgElement = img as HTMLImageElement;
        if (imgElement && imgElement.src) {
          imageSources.push(imgElement.src);
        }
      });

      function updateCarousel() {
        const translateX = -currentSlide * 100;
        if (track) {
          track.style.transform = `translateX(${translateX}%)`;
        }

        // Update thumbnail borders
        thumbnails.forEach((thumbnail, index) => {
          if (index === currentSlide) {
            thumbnail.classList.remove("border-transparent");
            thumbnail.classList.add("border-cyan-500");
          } else {
            thumbnail.classList.remove("border-cyan-500");
            thumbnail.classList.add("border-transparent");
          }
        });
      }

      function nextSlide() {
        currentSlide = (currentSlide + 1) % totalSlides;
        updateCarousel();
        updateLightboxContent();
      }

      function previousSlide() {
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        updateCarousel();
        updateLightboxContent();
      }

      function updateLightboxContent() {
        // Update lightbox image and counter if lightbox is open
        if (lightbox && !lightbox.classList.contains("hidden")) {
          if (lightboxImage && imageSources[currentSlide]) {
            const imgElement = lightboxImage as HTMLImageElement;
            imgElement.src = imageSources[currentSlide];
            imgElement.alt = `Cabanas rental property view ${currentSlide + 1}`;
          }
          if (lightboxCounter) {
            lightboxCounter.textContent = `${currentSlide + 1} of ${totalSlides}`;
          }
        }
      }

      function goToSlide(index) {
        currentSlide = index;
        updateCarousel();
      }

      function openLightbox() {
        if (lightboxImage && imageSources[currentSlide]) {
          const imgElement = lightboxImage as HTMLImageElement;
          imgElement.src = imageSources[currentSlide];
          imgElement.alt = `Cabanas rental property view ${currentSlide + 1}`;
        }
        if (lightboxCounter) {
          lightboxCounter.textContent = `${currentSlide + 1} of ${totalSlides}`;
        }
        if (lightbox && lightboxContent) {
          lightbox.classList.remove("hidden");
          lightbox.classList.add("flex");

          // Add blur effect to body
          document.body.classList.add("lightbox-open");

          // Animate in
          setTimeout(() => {
            lightboxContent.classList.remove("scale-95", "opacity-0");
            lightboxContent.classList.add("scale-100", "opacity-100");
          }, 10);
        }
        document.body.style.overflow = "hidden"; // Prevent background scrolling
      }

      function closeLightbox() {
        if (lightbox && lightboxContent) {
          // Remove blur effect from body
          document.body.classList.remove("lightbox-open");

          // Animate out
          lightboxContent.classList.remove("scale-100", "opacity-100");
          lightboxContent.classList.add("scale-95", "opacity-0");

          // Hide after animation
          setTimeout(() => {
            lightbox.classList.add("hidden");
            lightbox.classList.remove("flex");
          }, 300);
        }
        document.body.style.overflow = "auto"; // Restore scrolling
      }

      // Event listeners
      if (prevBtn) {
        prevBtn.addEventListener("click", previousSlide);
      }
      if (nextBtn) {
        nextBtn.addEventListener("click", nextSlide);
      }
      if (closeLightboxBtn) {
        closeLightboxBtn.addEventListener("click", closeLightbox);
      }
      if (lightboxPrevBtn) {
        lightboxPrevBtn.addEventListener("click", previousSlide);
      }
      if (lightboxNextBtn) {
        lightboxNextBtn.addEventListener("click", nextSlide);
      }

      // Thumbnail click handlers
      thumbnails.forEach((thumbnail, index) => {
        thumbnail.addEventListener("click", () => goToSlide(Number(index)));
      });

      // Main image click handler
      document.querySelectorAll(".carousel-slide img").forEach((img) => {
        img.addEventListener("click", openLightbox);
      });

      // Close lightbox when clicking on backdrop
      if (lightboxBackdrop) {
        lightboxBackdrop.addEventListener("click", closeLightbox);
      }

      // Also close when clicking on the main lightbox container (outside modal content)
      if (lightbox) {
        lightbox.addEventListener("click", (e) => {
          if (e.target === lightbox) {
            closeLightbox();
          }
        });
      }

      // Keyboard navigation for lightbox
      document.addEventListener("keydown", (e) => {
        if (lightbox && !lightbox.classList.contains("hidden")) {
          if (e.key === "Escape") {
            closeLightbox();
          } else if (e.key === "ArrowLeft") {
            previousSlide();
          } else if (e.key === "ArrowRight") {
            nextSlide();
          }
        }
      });

      // Auto-advance carousel every 5 seconds (pause when lightbox is open)
      let autoAdvanceInterval = setInterval(() => {
        if (lightbox && lightbox.classList.contains("hidden")) {
          nextSlide();
        }
      }, 5000);

      // Initialize carousel
      updateCarousel();

      // ===== NUMBA 1 CAROUSEL FUNCTIONALITY =====
      let currentSlideNumba = 0;
      const totalSlidesNumba = 3; // We have 3 placeholder images
      const trackNumba = document.getElementById("carousel-track-numba");
      const thumbnailsNumba = document.querySelectorAll(".thumbnail-btn-numba");
      const prevBtnNumba = document.getElementById("prevBtnNumba");
      const nextBtnNumba = document.getElementById("nextBtnNumba");

      const imageSourcesNumba = [];
      document.querySelectorAll(".carousel-slide-numba img").forEach((img) => {
        const imgElement = img as HTMLImageElement;
        if (imgElement && imgElement.src) {
          imageSourcesNumba.push(imgElement.src);
        }
      });

      function updateCarouselNumba() {
        const translateX = -currentSlideNumba * 100;
        if (trackNumba) {
          trackNumba.style.transform = `translateX(${translateX}%)`;
        }

        thumbnailsNumba.forEach((thumbnail, index) => {
          if (index === currentSlideNumba) {
            thumbnail.classList.remove("border-transparent");
            thumbnail.classList.add("border-cyan-500");
          } else {
            thumbnail.classList.remove("border-cyan-500");
            thumbnail.classList.add("border-transparent");
          }
        });
      }

      function nextSlideNumba() {
        currentSlideNumba = (currentSlideNumba + 1) % totalSlidesNumba;
        updateCarouselNumba();
      }

      function previousSlideNumba() {
        currentSlideNumba =
          (currentSlideNumba - 1 + totalSlidesNumba) % totalSlidesNumba;
        updateCarouselNumba();
      }

      function goToSlideNumba(index) {
        currentSlideNumba = index;
        updateCarouselNumba();
      }

      function openLightboxNumba(index) {
        currentSlideNumba = index;
        updateCarouselNumba();

        if (lightboxImage && imageSourcesNumba[currentSlideNumba]) {
          const imgElement = lightboxImage as HTMLImageElement;
          imgElement.src = imageSourcesNumba[currentSlideNumba];
          imgElement.alt = `Numba 1 property view ${currentSlideNumba + 1}`;
        }
        if (lightboxCounter) {
          lightboxCounter.textContent = `${currentSlideNumba + 1} of ${totalSlidesNumba}`;
        }

        // Update lightbox title and description
        const lightboxTitle = document.getElementById("lightbox-title");
        const lightboxDescription = document.getElementById(
          "lightbox-description"
        );
        if (lightboxTitle)
          lightboxTitle.textContent = "Numba 1 - Our First Property";
        if (lightboxDescription)
          lightboxDescription.textContent = "Where our journey began";

        if (lightbox && lightboxContent) {
          lightbox.classList.remove("hidden");
          lightbox.classList.add("flex");

          document.body.classList.add("lightbox-open");

          setTimeout(() => {
            lightboxContent.classList.remove("scale-95", "opacity-0");
            lightboxContent.classList.add("scale-100", "opacity-100");
          }, 10);
        }
        document.body.style.overflow = "hidden";
      }

      // Event listeners for Numba 1
      if (prevBtnNumba) {
        prevBtnNumba.addEventListener("click", previousSlideNumba);
      }
      if (nextBtnNumba) {
        nextBtnNumba.addEventListener("click", nextSlideNumba);
      }

      thumbnailsNumba.forEach((thumbnail, index) => {
        thumbnail.addEventListener("click", () =>
          goToSlideNumba(Number(index))
        );
      });

      // Initialize Numba 1 carousel
      updateCarouselNumba();

      // ===== TAMARISK CAROUSEL FUNCTIONALITY =====
      let currentSlideTamarisk = 0;
      const totalSlidesTamarisk = 3; // We have 3 placeholder images
      const trackTamarisk = document.getElementById("carousel-track-tamarisk");
      const thumbnailsTamarisk = document.querySelectorAll(
        ".thumbnail-btn-tamarisk"
      );
      const prevBtnTamarisk = document.getElementById("prevBtnTamarisk");
      const nextBtnTamarisk = document.getElementById("nextBtnTamarisk");

      const imageSourcesTamarisk = [];
      document
        .querySelectorAll(".carousel-slide-tamarisk img")
        .forEach((img) => {
          const imgElement = img as HTMLImageElement;
          if (imgElement && imgElement.src) {
            imageSourcesTamarisk.push(imgElement.src);
          }
        });

      function updateCarouselTamarisk() {
        const translateX = -currentSlideTamarisk * 100;
        if (trackTamarisk) {
          trackTamarisk.style.transform = `translateX(${translateX}%)`;
        }

        thumbnailsTamarisk.forEach((thumbnail, index) => {
          if (index === currentSlideTamarisk) {
            thumbnail.classList.remove("border-transparent");
            thumbnail.classList.add("border-cyan-500");
          } else {
            thumbnail.classList.remove("border-cyan-500");
            thumbnail.classList.add("border-transparent");
          }
        });
      }

      function nextSlideTamarisk() {
        currentSlideTamarisk = (currentSlideTamarisk + 1) % totalSlidesTamarisk;
        updateCarouselTamarisk();
      }

      function previousSlideTamarisk() {
        currentSlideTamarisk =
          (currentSlideTamarisk - 1 + totalSlidesTamarisk) %
          totalSlidesTamarisk;
        updateCarouselTamarisk();
      }

      function goToSlideTamarisk(index) {
        currentSlideTamarisk = index;
        updateCarouselTamarisk();
      }

      function openLightboxTamarisk(index) {
        currentSlideTamarisk = index;
        updateCarouselTamarisk();

        if (lightboxImage && imageSourcesTamarisk[currentSlideTamarisk]) {
          const imgElement = lightboxImage as HTMLImageElement;
          imgElement.src = imageSourcesTamarisk[currentSlideTamarisk];
          imgElement.alt = `Tamarisk property view ${currentSlideTamarisk + 1}`;
        }
        if (lightboxCounter) {
          lightboxCounter.textContent = `${currentSlideTamarisk + 1} of ${totalSlidesTamarisk}`;
        }

        // Update lightbox title and description
        const lightboxTitle = document.getElementById("lightbox-title");
        const lightboxDescription = document.getElementById(
          "lightbox-description"
        );
        if (lightboxTitle) lightboxTitle.textContent = "Tamarisk Property";
        if (lightboxDescription)
          lightboxDescription.textContent =
            "A distinctive investment opportunity";

        if (lightbox && lightboxContent) {
          lightbox.classList.remove("hidden");
          lightbox.classList.add("flex");

          document.body.classList.add("lightbox-open");

          setTimeout(() => {
            lightboxContent.classList.remove("scale-95", "opacity-0");
            lightboxContent.classList.add("scale-100", "opacity-100");
          }, 10);
        }
        document.body.style.overflow = "hidden";
      }

      // Event listeners for Tamarisk
      if (prevBtnTamarisk) {
        prevBtnTamarisk.addEventListener("click", previousSlideTamarisk);
      }
      if (nextBtnTamarisk) {
        nextBtnTamarisk.addEventListener("click", nextSlideTamarisk);
      }

      thumbnailsTamarisk.forEach((thumbnail, index) => {
        thumbnail.addEventListener("click", () =>
          goToSlideTamarisk(Number(index))
        );
      });

      // Initialize Tamarisk carousel
      updateCarouselTamarisk();
    </script>
  </body>
</html>
